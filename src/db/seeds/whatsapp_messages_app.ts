import { db } from '@/db';
import { whatsappMessagesApp } from '@/db/schema';

async function main() {
    const now = new Date();
    const sampleMessages = [
        // Conversation 1: User 4 (adopter) and User 1 (admin) about adoption process
        {
            senderId: 4,
            receiverId: 1,
            message: "Hi, I saw your rescue report for the injured dog. Is help still needed?",
            senderPhone: "+91 98765 43210",
            receiverPhone: "+91 98765 43211",
            timestamp: new Date(now.getTime() - 13 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 1,
            receiverId: 4,
            message: "Yes, the dog is still at Connaught Place. Can you send a team?",
            senderPhone: "+91 98765 43211",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 13 * 24 * 60 * 60 * 1000 + 15 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 4,
            receiverId: 1,
            message: "I'm interested in adopting the Golden Retriever. What's the process?",
            senderPhone: "+91 98765 43210",
            receiverPhone: "+91 98765 43211",
            timestamp: new Date(now.getTime() - 12 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 1,
            receiverId: 4,
            message: "Thank you for your interest! Please fill out the adoption application on our website.",
            senderPhone: "+91 98765 43211",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 12 * 24 * 60 * 60 * 1000 + 30 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 4,
            receiverId: 1,
            message: "Can I visit the shelter this weekend?",
            senderPhone: "+91 98765 43210",
            receiverPhone: "+91 98765 43211",
            timestamp: new Date(now.getTime() - 11 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 1,
            receiverId: 4,
            message: "Yes, we're open on weekends from 10 AM to 6 PM",
            senderPhone: "+91 98765 43211",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 11 * 24 * 60 * 60 * 1000 + 20 * 60 * 1000).toISOString(),
            read: false,
            messageType: "text",
        },

        // Conversation 2: User 5 (reporter) and User 2 (NGO) about rescue request
        {
            senderId: 5,
            receiverId: 2,
            message: "Emergency! There's an injured cat near Sector 18 metro station. Please help!",
            senderPhone: "+91 98765 43212",
            receiverPhone: "+91 98765 43213",
            timestamp: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 2,
            receiverId: 5,
            message: "We're sending our rescue team within 30 minutes",
            senderPhone: "+91 98765 43213",
            receiverPhone: "+91 98765 43212",
            timestamp: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000 + 10 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 5,
            receiverId: 2,
            message: "Sharing the exact location",
            senderPhone: "+91 98765 43212",
            receiverPhone: "+91 98765 43213",
            timestamp: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000 + 12 * 60 * 1000).toISOString(),
            read: true,
            messageType: "location",
        },
        {
            senderId: 2,
            receiverId: 5,
            message: "Our team has reached the location. The cat is now safe with us. We'll provide medical care.",
            senderPhone: "+91 98765 43213",
            receiverPhone: "+91 98765 43212",
            timestamp: new Date(now.getTime() - 10 * 24 * 60 * 60 * 1000 + 50 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },

        // Conversation 3: User 4 and User 3 (NGO) about pet availability
        {
            senderId: 4,
            receiverId: 3,
            message: "Hello! Do you have any puppies available for adoption right now?",
            senderPhone: "+91 98765 43210",
            receiverPhone: "+91 98765 43214",
            timestamp: new Date(now.getTime() - 8 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 3,
            receiverId: 4,
            message: "Yes! We have 3 Labrador puppies, all vaccinated and healthy. Would you like to see their photos?",
            senderPhone: "+91 98765 43214",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 8 * 24 * 60 * 60 * 1000 + 25 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 3,
            receiverId: 4,
            message: "Here are the puppies",
            senderPhone: "+91 98765 43214",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 8 * 24 * 60 * 60 * 1000 + 27 * 60 * 1000).toISOString(),
            read: true,
            messageType: "image",
        },
        {
            senderId: 4,
            receiverId: 3,
            message: "They're adorable! What's the adoption fee?",
            senderPhone: "+91 98765 43210",
            receiverPhone: "+91 98765 43214",
            timestamp: new Date(now.getTime() - 8 * 24 * 60 * 60 * 1000 + 40 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 3,
            receiverId: 4,
            message: "The adoption fee is ₹5000 which covers vaccination and medical check-up. We also need to do a home visit.",
            senderPhone: "+91 98765 43214",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000).toISOString(),
            read: false,
            messageType: "text",
        },

        // Phone number only messages (no user IDs)
        {
            senderId: null,
            receiverId: null,
            message: "I found a stray dog with a broken leg near India Gate. Please help!",
            phoneNumber: "+91 98765 43215",
            senderPhone: "+91 98765 43215",
            receiverPhone: "+91 98765 43211",
            timestamp: new Date(now.getTime() - 6 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 1,
            receiverId: null,
            message: "Thank you for reporting. Please share your location so we can dispatch our rescue team.",
            phoneNumber: "+91 98765 43215",
            senderPhone: "+91 98765 43211",
            receiverPhone: "+91 98765 43215",
            timestamp: new Date(now.getTime() - 6 * 24 * 60 * 60 * 1000 + 15 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: null,
            receiverId: 1,
            message: "Location shared",
            phoneNumber: "+91 98765 43215",
            senderPhone: "+91 98765 43215",
            receiverPhone: "+91 98765 43211",
            timestamp: new Date(now.getTime() - 6 * 24 * 60 * 60 * 1000 + 20 * 60 * 1000).toISOString(),
            read: true,
            messageType: "location",
        },

        // More diverse conversations
        {
            senderId: 5,
            receiverId: 3,
            message: "Do you provide free vaccination camps for street animals?",
            senderPhone: "+91 98765 43212",
            receiverPhone: "+91 98765 43214",
            timestamp: new Date(now.getTime() - 5 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 3,
            receiverId: 5,
            message: "Yes! We conduct monthly vaccination camps. Next one is on 25th at Saket. Registration is free.",
            senderPhone: "+91 98765 43214",
            receiverPhone: "+91 98765 43212",
            timestamp: new Date(now.getTime() - 5 * 24 * 60 * 60 * 1000 + 30 * 60 * 1000).toISOString(),
            read: false,
            messageType: "text",
        },
        {
            senderId: 4,
            receiverId: 2,
            message: "I'd like to volunteer at your shelter. What are the requirements?",
            senderPhone: "+91 98765 43210",
            receiverPhone: "+91 98765 43213",
            timestamp: new Date(now.getTime() - 4 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 2,
            receiverId: 4,
            message: "That's wonderful! We need volunteers for feeding, grooming, and socialization. Can you commit to at least 2 days per week?",
            senderPhone: "+91 98765 43213",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 4 * 24 * 60 * 60 * 1000 + 45 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 2,
            receiverId: 4,
            message: "Here's our volunteer orientation schedule",
            senderPhone: "+91 98765 43213",
            receiverPhone: "+91 98765 43210",
            timestamp: new Date(now.getTime() - 4 * 24 * 60 * 60 * 1000 + 50 * 60 * 1000).toISOString(),
            read: false,
            messageType: "image",
        },
        {
            senderId: 5,
            receiverId: 1,
            message: "What documents are needed for pet adoption?",
            senderPhone: "+91 98765 43212",
            receiverPhone: "+91 98765 43211",
            timestamp: new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000).toISOString(),
            read: true,
            messageType: "text",
        },
        {
            senderId: 1,
            receiverId: 5,
            message: "You'll need: ID proof, address proof, and recent photos of your home. We also conduct a phone interview and home visit.",
            senderPhone: "+91 98765 43211",
            receiverPhone: "+91 98765 43212",
            timestamp: new Date(now.getTime() - 3 * 24 * 60 * 60 * 1000 + 20 * 60 * 1000).toISOString(),
            read: false,
            messageType: "text",
        },
    ];

    await db.insert(whatsappMessagesApp).values(sampleMessages);
    
    console.log('✅ WhatsApp messages seeder completed successfully');
}

main().catch((error) => {
    console.error('❌ Seeder failed:', error);
});